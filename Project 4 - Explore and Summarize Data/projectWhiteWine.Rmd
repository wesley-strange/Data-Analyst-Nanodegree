White Wine Quality Exploration by Wesley Strange
========================================================

```{r echo=FALSE, message=FALSE, warning=FALSE, Load_Packages_and_Data}
# Load packages ---------------------------------------------------------------
library(ggplot2)
library(gridExtra)
library(GGally)
library(dplyr)
library(reshape2)

# Load wine data for analysis --------------------
setwd(paste("C:/Users/SwaggyProphet/Documents/Data Analyst Nanodegree/",
            "Project 4/EDA_Course_Materials/EDA_Course_Materials/project",
            sep = ""))
wine <- read.csv("wineQualityWhites.csv")
```

## Univariate Plots Section

### Dataset Overview

```{r echo=FALSE, Wine_Dataset_Overview}
# View data dimensions and structure ------------------------------------------
dim(wine)
str(wine)
```

<br>This report explores a data set containing quality ratings and attributes 
for approximately 4,900 white wines. The dataset contains 13 variables. 11 
variables are of type "num" and two variables are of type "int".

***

### Explore Quality

<u>Quality Description:</u> Output score based on sensory data.
<br><u>Quality Measure:</u> Score between 0 and 10.

```{r echo=FALSE, fig.width = 11, fig.asp = 0.5, message = FALSE, Quality}
# Explore quality distribution ------------------------------------------------

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = quality), 
       data = wine) +
  geom_bar(color = "black", 
           fill = "aquamarine") +
  ggtitle("Quality Histogram")

# Use the table function to get a table view of the distribution
table(wine$quality)
```

<br>The quality data is normally distributed. There are few observations for 
wines of low and high quality (values 3, 4, 8, and 9). The majority of the 
observations fall in the middle between 5 - 7. This tells me that most wines 
are of average quality, it's not likely to find a wine that of terrible or 
great quality. 

In order to observe reliable trends in the data I want to make sure there are 
a significant amount of observations in each quality bucket. Hence, I created 
a new categorical variable named "quality.rating" which contains the following 
rating groupings: "Bad", "Average", and "Good". Bad: quality scores 3 - 5; 
Average: quality score 6; Good: quality scores 7 - 9. 

Now each quality rating bucket has a significant number of observations as you 
can see by the bar graph and table print outs below.

```{r echo=FALSE, fig.width = 11, fig.asp = 0.5, message = FALSE, Quality2}
# Create a new variable named "quality.rating" -------------------------------

# "Bad" if the quality is less than or equal to 5
# "Average" if the quality is equal to 6
# "Good" if the quality is greater than or equal to 7
wine$quality.rating[wine$quality <= 5] = "Bad"
wine$quality.rating[wine$quality == 6] = "Average"
wine$quality.rating[wine$quality >= 7] = "Good"

# Change quality.rating to an ordered factor variable with 3 levels
# "Bad" < "Average" < "Good"
wine$quality.rating <- ordered(wine$quality.rating, 
                               levels = c("Bad", "Average", "Good"))

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = quality.rating), 
       data = wine) +
  geom_bar(color = "black", 
           fill = "aquamarine") +
  ggtitle("Quality Rating Histogram")

# Use the table function to get a table view data distiribution
table(wine$quality.rating)
```

***

### Explore Fixed Acidity

<u>Fixed Acidity Description:</u> Most acids involved with wine are fixed or 
nonvolatile (do not evaporate readily).
<br><u>Fixed Acidity Measure:</u> tartaric acid - g / dm^3.
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/wine-acids/tartaric-acid)</u> - 
Tartaric Acid is one of the strongest acids in wine and controls the acidity 
of a wine. The total acidity in a wine is measured by the amount of Tartaric 
Acid present. Tartaric Acid plays a critical role in the taste, feel and color 
of a wine. But even more important, it lowers the pH enough to kill 
undesirable bacteria, acting as a preservative. The influence of tartaric acid 
on the taste and feel of a wine is primarily through its impact on acidity. It 
contributes to the "tartness" of a wine, but not as much as malic and citric 
acid. Winemakers will adjust acidity by adding tartaric acid to the wine.

```{r echo=FALSE, fig.width = 11, fig.asp = 0.5, message = FALSE, Fixed_Acidity}
# Explore Fixed Acidity -------------------------------------------------------

# View summary statistics for fixed.acidity
summary(wine$fixed.acidity)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = fixed.acidity), 
       data = wine) +
  geom_histogram(binwidth = 0.1, 
                 color = "black", 
                 fill = "aquamarine") +
  scale_x_continuous(breaks = seq(4, 10, 0.5)) +
  coord_cartesian(xlim = c(4, 10)) +
  ggtitle("Fixed Acidity Histogram")
```

<u>Operations:</u>
<br>I limited the x axis to get a better view of the data distribution.

<u>Observations:</u>
<br>The data is normally distributed. The majority of the data falls between 
the values of 5 and 9. There are a couple major outliers to the far right as 
high as 14.2.

***

### Exploring Volatile Acidity

<u>Volatile Acidity Description:</u> The amount of acetic acid in wine, which 
at too high of levels can lead to an unpleasant, vinegar taste.
<br><u>Volatile Acidity Measure:</u> acetic acid - g / dm^3
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/wine-acids/acetic-acid)</u> - 
The normal level of acetic acid in wine is around 300mg/liter. Around this 
level, acetic acid is very desirable, contributing to the wines smell and 
taste. As it increases above this critical number, it gradually gives the wine 
a sour taste, and the perception of vinegar becomes more apparent.

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Volatile_Acidity}
# Explore Volatile Acidity ----------------------------------------------------

# View summary statistics for volatile.acidity
summary(wine$volatile.acidity)

# Plot the histogram to get a visual of the data distribution
# Transform the x-axis by sqrt to maek the data distribution appear normal
ggplot(aes(x = volatile.acidity), 
       data = wine) +
  geom_histogram(binwidth = 0.01, 
                 color = "black", 
                 fill = "aquamarine") +
  scale_x_continuous(breaks = seq(0.1, 0.5, 0.05)) +
  coord_trans(x = "sqrt", 
              limx = c(0.1, 0.5)) +
  xlab("volatile.acidity (sqrt)") +
  ggtitle("Volatile Acidity (sqrt) Histogram")
```

<u>Operations:</u>
<br>I limited the x axis to get a better view of the data distribution and 
transformed the x-axis using the square root function.

<u>Observation:</u>
<br>The data has a normal distribution after transforming the x-axis with the 
square root function. The majority of the data falls between the range of 0.1 
and 0.5. There are some outliers to the right ranging as high as 1.1.

***

### Exploring Citric Acid

<u>Citric Acid Description:</u> Found in small quantities, citric acid can add 
'freshness' and flavor to wines.
<br><u>Citric Acid Measure:</u> g / dm^3
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/wine-acids/citric-acid)</u> - 
Citric acid plays a major role in a winemakers influence on acidity. Many 
winemakers use citric acid to acidify wines that are too basic and as a flavor 
additive. This process has is benefits and drawbacks. Adding citric acid will 
give the wine "freshness" otherwise not present and will effectively make a 
wine more acidic. The major disadvantage of adding citric acid is its 
microbial instability. As mentioned earlier, bacteria use citric acid in their 
metabolism, thus the citric acid added may just be consumed by bacteria, 
promoting the growth of unwanted microbes. 

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Citric_Acid}
# Explore Citric Acid  --------------------------------------------------------

# View the summary statistics for citric.acid
summary(wine$citric.acid)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = citric.acid), 
       data = wine) +
  geom_histogram(binwidth = 0.01, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_cartesian(xlim = c(0, 0.75)) +
  scale_x_continuous(breaks = seq(0, 0.75, 0.05)) +
  ggtitle("Citric Acid Histogram")

# Use facet_wrap to view the distribution by quality.rating
ggplot(aes(x = citric.acid), 
       data = wine) +
  geom_histogram(binwidth = 0.01, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_cartesian(xlim = c(0, 0.75)) +
  scale_x_continuous(breaks = seq(0, 0.75, 0.05)) +
  facet_wrap(~quality.rating) +
  ggtitle("Citric Acid Histogram by Quality Rating")
```

<u>Operations:</u>
<br>I limited the x-axis to get a better view of the bulk of the data. I also 
used facet wrap of quality.rating to see if the spikes in data around 0.49 and 
0.74 had any relation to the quality of the wine.

<u>Observations:</u>
<br>The data is normally distributed. The majority of the data falls between 
the values of 0.15 and 0.55. There are a couple major outliers to the far 
right with values of 1.23 and 1.66 respectively. There are unusual spikes in 
wine count at the values 0.49 and 0.74. I used a facet wrap to see if the 
spikes had any relation to the quality of the wine, but there didn't appear to 
be any correlation.

***

### Exploring Residual Sugar

<u>Residual Sugar Description:</u> The amount of sugar remaining after 
fermentation stops, it's rare to find wines with less than 1 gram/liter and 
wines with greater than 45 grams/liter are considered sweet.
<br><u>Residual Sugar Measure:</u> g / dm^3
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/sugar-in-wine)</u> - 
Sugar in wine plays a major role in its sensory characteristics. It can be as 
obvious as the difference between a sweet and dry wine; or as subtle as the 
difference between sugar interactions with different tannins. In dry wine, 
yeasts consume almost all of the sugar from the grapes. In sweet wine, the 
yeasts are killed before all the sugar is used, leaving residual sugars.

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Residual_Sugar}
# Explore Residual Sugar ------------------------------------------------------

# View the summary statistics for residual.sugar
summary(wine$residual.sugar)

# Plot the histogram to get a visual of the data distribution
# Transform the x-axis by log10 to make the data distribution appear normal
ggplot(aes(x = residual.sugar), 
       data = wine) +
  geom_histogram(binwidth = 0.1, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_trans(x = "log10", 
              limx = c(0.5, 20)) +
  scale_x_continuous(breaks = c(0, seq(1, 20, 1))) +
  xlab("residual.sugar (log10)") +
  ggtitle("Residual Sugar Histogram")

# Use facet_wrap to view the distribution by quality.rating
ggplot(aes(x = residual.sugar), 
       data = wine) +
  geom_histogram(binwidth = 0.1, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_trans(x = "log10", 
              limx = c(0.5, 20)) +
  scale_x_continuous(breaks = c(0, seq(1, 20, 1))) +
  xlab("residual.sugar (log10)") +
  ggtitle("Residual Sugar Histogram by Quality Rating") +
  facet_wrap(~ quality.rating)
```

<u>Operations:</u>
<br>I transformed the x-axis using the log10 function to get a better view of 
the bulk of the data smashed on the left side of the plot.  I limited the 
x-axis to 20 in order to remove the major outliers to the right and focus on 
the bulk of the data. I also used a facet wrap to see if the peaks in the data 
had any relation to the quality of the wine.

<u>Observations:</u>
<br>The data is not normally distributed, but rather has a multimodal 
distribution. The bulk of the data was smashed on the left side of the plot, 
but there was a significant amount of data spread out along the x-axis from 
3 - 20 with several noticeable peaks. I used a facet wrap to see if the peaks 
in the data had any relation to the quality of the wine, but there didn't seem 
to be much correlation.

***

### Exploring Chlorides

<u>Chlorides Description:</u> The amount of salt in the wine.
<br><u>Clorides Measure:</u> sodium chloride - g / dm^3

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Chlorides}
# Explore Chlorides -----------------------------------------------------------

# View the summary statistics for chlorides
summary(wine$chlorides)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = chlorides), 
       data = wine) +
  geom_histogram(binwidth = 0.001, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_cartesian(xlim = c(0.01, 0.07)) +
  scale_x_continuous(breaks = seq(0.01, 0.07, 0.01)) +
  ggtitle("Chlorides Histogram")
```

<u>Operations:</u>
<br>I limited the x-axis to get a better view of the distribution for the bulk 
of the data.

<u>Observations:</u>
<br>The data is not normally distributed. The bulk of the data appears to be 
bimodal with peaks around 0.0375 and 0.046. The bulk of the data falls 
betweeen 0.02 and 0.065. There are outliers as far out as 0.346.

***

### Exploring Free Sulfur Dioxide

<u>Free Sulfur Dioxide Description:</u> The free form of SO2 exists in 
equilibrium between molecular SO2 (as a dissolved gas) and bisulfite ion; it 
prevents microbial growth and the oxidation of wine.
<br><u>Free Sulfur Dioxide Measure:</u> mg / dm^3
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/sulfur-dioxide)</u> - 
A small amount of SO2 is produced naturally as a by product of fermentation, 
but most of the SO2 has been added by the winemaker. During white wine 
production, it is added at almost every stage of the process, and is more or 
less required after malolactic fermentation is complete. The most important 
mechanism of action for Sulfur Dioxide is as an anti-microbial agent. It 
regulates the growth of harmful yeast and bacterial growth in the wine. 
Another important role of Sulfur Dioxide lies in its anti-oxidant properties. 
This guards against browning and protects the fruit-like qualities of the 
wine. If a winemaker uses too much SO2, it can kill the "good" yeast, haulting 
fermentation before the desired end point. It can also stop malolactic 
fermentation from completing, yield wines that taste unfinished. You can tell 
a wine that has too much Sulfur Dioxide by its characteristically pungent 
odor. It smells similar to that of a recently struck match. 

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Free_Sulfur_Dioxide}
# Explore Free Sulfur Dioxide -------------------------------------------------

# View the summary statistics for free.sulfur.dioxide
summary(wine$free.sulfur.dioxide)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = free.sulfur.dioxide), 
       data = wine) +
  geom_histogram(binwidth = 5, 
                 color = "black", 
                 fill = "aquamarine") +
  scale_x_continuous(breaks = seq(0, 90, 10)) +
  coord_trans(limx = c(0, 90)) +
  ggtitle("Free Sulfur Dioxide Histogram")
```

<u>Operations:</u>
<br>I limited the x-axis to get a better view of the bulk of the data.

<u>Observations:</u>
<br>The data has a normal distribution with a long tail to the right. The bulk 
of the data falls betweeen 5 and 70. There are many outliers to the right, 
ranging as far out as 289.

***

### Exploring Total Sulfur Dioxide

<u>Total Sulfur Dioxide Description:</u> Amount of free and bound forms of 
S02; in low concentrations, SO2 is mostly undetectable in wine, but at free 
SO2 concentrations over 50 ppm, SO2 becomes evident in the nose and taste of 
wine.
<br><u>Total Sulfur Dioxide Measure:</u> mg / dm^3
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/sulfur-dioxide)</u> - 
A small amount of SO2 is produced naturally as a by product of fermentation, 
but most of the SO2 has been added by the winemaker. During white wine 
production, it is added at almost every stage of the process, and is more or 
less required after malolactic fermentation is complete. The most important 
mechanism of action for Sulfur Dioxide is as an anti-microbial agent. It 
regulates the growth of harmful yeast and bacterial growth in the wine. 
Another important role of Sulfur Dioxide lies in its anti-oxidant properties. 
This guards against browning and protects the fruit-like qualities of the 
wine. If a winemaker uses too much SO2, it can kill the "good" yeast, haulting 
fermentation before the desired end point. It can also stop malolactic 
fermentation from completing, yield wines that taste unfinished. You can tell 
a wine that has too much Sulfur Dioxide by its characteristically pungent 
odor. It smells similar to that of a recently struck match. 

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Total_Sulfur_Dioxide}
# Explore Total Sulfur Dioxide ------------------------------------------------

# View the summary statistics for total.sulfur.dioxide
summary(wine$total.sulfur.dioxide)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = total.sulfur.dioxide), 
       data = wine) +
  geom_histogram(binwidth = 2, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_trans(limx = c(25, 300)) +
  scale_x_continuous(breaks = seq(25, 300, 25)) +
  ggtitle("Total Sulfur Dioxide Histogram")
```

<u>Operations:</u>
<br>I limited the x-axis to zoom in on the bulk of the data.

<u>Observations:</u>
<br>The data is normally distributed for the most part with a long tail to the 
right. The bulk of the data falls between 50 and 250.There are some outliers 
ranging as far out as 440.

***

### Exploring Density

<u>Density Description:</u> The density of wine is close to that of water 
depending on the percent alcohol and sugar content.
<br><u>Density Measure:</u> g / cm^3

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Density}
# Explore Density -------------------------------------------------------------

# View the summary statistics for density
summary(wine$density)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = density), 
       data = wine) +
  geom_histogram(binwidth = 0.0002, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_cartesian(xlim = c(0.985, 1.005)) +
  ggtitle("Density Histogram")

# Use facet_wrap to view the distribution by quality.rating
ggplot(aes(x = density), 
       data = wine) +
  geom_histogram(binwidth = 0.0002, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_cartesian(xlim = c(0.985, 1.005)) +
  ggtitle("Density Histogram by Quality Rating") +
  facet_wrap(~ quality.rating)
```

<u>Operations:</u>
<br>I limited the x-axis to get a better view of the bulk of the data. I used 
a facet wrap to see if the distribution had any relation to the quality of the 
wine. 

<u>Operations:</u>
<br>The data distriution is not normally distributed. The data appears to be 
multimodal with 3 or 4 noticeable peaks. I used a facet wrap to see if the 
distribution had any relation to the quality of the wine and I immediately 
noticed that the higher quality wines had density lower than 0.995, while 
0.995 lined up closer to the middle of the distributions for the "Poor" and 
"Good" quality wines. This tells me that Density plays a role in the wine 
quality.

***

### Exploring pH

<u>pH Description:</u> Describes how acidic or basic a wine is on a scale from 
0 (very acidic) to 14 (very basic); most wines are between 3-4 on the pH scale.
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/ph)</u>
- "pH" is a term that quantifies the acidity of a solution. Another important 
aspect of pH in wine is that it represents the active acid in wine, or the 
acid that contributes to the fixed acidity. 

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, PH}
# Explore pH ------------------------------------------------------------------

# View the summary statistics for pH
summary(wine$pH)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = pH), 
       data = wine) +
  geom_histogram(binwidth = 0.01, 
                 color = "black", 
                 fill = "aquamarine") +
  scale_x_continuous(breaks = seq(2.7, 3.9, 0.1)) +
  ggtitle("pH Histogram")
```

<u>Operations:</u>
<br>None

<u>Observations:</u>
<br>The data is normally distributed. The bulk of the data is between 2.9 
and 3.5.

***

### Exploring Sulphates

<u>Sulphates Description:</u> A wine additive which can contribute to sulfur 
dioxide gas (S02) levels, wich acts as an antimicrobial and antioxidant.
<br><u>Sulphates Measure:</u> potassium sulphate - g / dm3

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Sulphates}
# Explore Sulphates -----------------------------------------------------------

# View the summary statistics for sulphates
summary(wine$sulphates)

# Plot the histogram to get a visual of the data distribution
# Transform the x-axis by log10 to make the data distribution appear normal
ggplot(aes(x = sulphates), 
       data = wine) +
  geom_histogram(binwidth = 0.01, 
                 color = "black", 
                 fill = "aquamarine") +
  coord_trans(x = "log10") +
  scale_x_continuous(breaks = seq(0, 1, 0.1)) +
  xlab("Sulphates (log10)")
  ggtitle("Sulphates (log10) Histogram")
```

<u>Operations:</u>
<br>I transformed the x-axis using the log10 scale in order to remove the long 
tail to the right.

<u>Observations:</u>
<br>The data appears to be normally distributed after transforming the scale 
using the log10 scale. The bulk of the data falls between 0.3 and 0.7. There 
are some noticeable spikes in the wine count at certain values like 0.38 and 
0.5.

***

### Exploring Alcohol

<u>Alcohol Description:</u> The percent alcohol content of the wine.
<br><u>Alcohol Measure:</u> % by volume
<br><u>Per [Calwineries](http://www.calwineries.com/learn/wine-chemistry/alcohol)</u> - 
The presence of alcohol with sugars, phenols and tannins define the balance of 
wine. When there is too much alcohol relative to other components, this 
equation is out of balance, and the wine is considered "hot." It is generally 
accepted with fortified wines, but is not desired otherwise.

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Alcohol}
# Explore Alcohol -------------------------------------------------------------

# View the summary statistics for alcohol
summary(wine$alcohol)

# Plot the histogram to get a visual of the data distribution
ggplot(aes(x = alcohol), 
       data = wine) +
  geom_histogram(binwidth = 0.1, 
                 color = "black", 
                 fill = "aquamarine") +
  scale_x_continuous(breaks = seq(8, 14, 1)) +
  ggtitle("Alcohol Histogram")

# Use facet_wrap to view the distribution by quality.rating
ggplot(aes(x = alcohol), 
       data = wine) +
  geom_histogram(binwidth = 0.1, 
                 color = "black", 
                 fill = "aquamarine") +
  scale_x_continuous(breaks = seq(8, 14, 1)) +
  ggtitle("Alcohol Histogram by Quality Rating") +
  facet_wrap(~ quality.rating)
```

<u>Operations:</u>
<br>I used a facet wrap to see if the spikes had any relation to the quality 
of the wine.

<u>Observations:</u>
<br>The data  appears to be multimodal. The bulk of the data falls between 8.5 
and 13.5. The highest peak on the left side of the plot around 9.5, with 
additional peaks around 10.5 and 12.5. I used a facet wrap to see if the 
spikes had any relation to the quality of the wine. The peaks appeared to 
align closely with the different qualities of wine. The far left peak aligned 
closely with the "Poor" quality wine, the second peak aligned closely with the 
"Good" quality wine, and the far right peak seemed to line up with the "Great" 
quality wine.

***

## Univariate Analysis

### What is the structure of your dataset? 

This report explores a data set containing quality ratings and attributes for 
approximately 4,900 white wines. The dataset contains 13 variables, with 4,898 
observations. 11 variables are of type "num", two variables are of type "int". 
I also created a new variable of type "Ordered Factor with 3 levels".


### What is/are the main feature(s) of interest in your dataset?

The main feature of interest is the Quality Rating. 


### What other features in the dataset do you think will help support your investigation into your feature(s) of interest?

I expect the variables listed below to have an impact on the quality rating of 
the wine.
<br>1) Volatile Acidity since high amounts can make the wine taste vinegary.
<br>2) Total Sulfur Dioxide (SO2) since too much Sulfur Dioxide gives the wine 
a pungent odor - similar to that of a recently struck match. 
<br>3) Residual Sugar / Alcohol since the presence of alcohol with sugars, 
phenols and tannins define the balance of wine. Also, I can tell from the 
Alcohol Histogram facet wrapped by Quality Rating that alcohol is correlated 
to the quality of the wine.
<br>4) Density since it is dependent on the percent alcohol and sugar content. 
Also, I can tell from the Density Histogram facet wrapped by Quality Rating 
that Density is correlated to the quality of the wine.


### Did you create any new variables from existing variables in the dataset?

Yes, I created a ordered factor variable called quality.rating. I created 
this variable since some of the quality scores (3, 4, 8, 9) had very few 
observations. In order to make sure every rating bucket had a significant 
amount of observations, I combined ratings with the lower counts together. 
There are now three category groupings: "Poor", "Good", and "Great". Poor: 
quality scores 3 - 5; Good: quality score 6; Great: quality scores 7 - 9. Now 
each quality rating bucket has a significant number of observations.


### Of the features you investigated, were there any unusual distributions? 

Yes, I found the following distributions unusual:
<br>1) Residual Sugar had a very interesting distribution. The data had a 
multimodal distribution. The bulk of the data was smashed on the left side of 
the plot, but there was a significant amount of data spread out along the 
x-axis from 3 - 20 with several noticeable peaks. I used a facet wrap to see 
if the peaks in the data had any relation to the quality of the wine, but 
there didn't seem to be much correlation.
<br>2) Alcohol had an interesting distribution. The distribution is mulimodal 
with the highest peak on the left side of the plot around 9.5, with additional 
peaks around 10.5 and 12.5. I used a facet wrap to see if the spikes had any 
relation to the quality of the wine. The peaks appeared to align closely with 
the different qualities of wine. The far left peak aligned closely with the 
"Poor" quality wine, the second peak aligned closely with the "Good" quality 
wine, and the far right peak seemed to line up with the "Great" quality wine.
<br>3) Citric Acid had spikes at 0.49 and 0.74 which I found unusual. I used a 
facet wrap to see if the spikes had any relation to the quality of the wine, 
but there didn't appear to be any correlation.


### Did you perform any operations on the data to tidy, adjust, or change the form of the data? If so, why did you do this?

I transformed the x-axis for the histograms for the following attributes.
<br>1) Volatile Acidity: I transformed the x-axis using the square root 
function to remove the long right tail. The distribution appeared normal after 
the transformation.
<br>2) Sulphates: I transformed the x-axis using the square root function to 
remove the long right tail. The distribution appeared normal after the 
tranformaiton.
<br>3) Residual Sugar: I transformed the x-axis using the log10 function to 
get a better view of the bulk of the data smashed on the left side of the plot.
<br>4) I used a Quality Rating facet wrap on the Histograms for Citric Acid, 
Residual Sugar, Denisty, and Alcohol to get a better idea of the relationship 
they had to the quality of the wine, since they each had interesting 
distributions.

***

## Bivariate Plots Section

***

### Exploring Quality Rating's Relationship to the Other Features

```{r echo=FALSE, fig.width = 10, fig.asp = 1.5, message = FALSE, Scatterplots}
# Plot scatterplots for quality.rating ----------------------------------------

# Use grid.arrange to plot all of the scatterplots for each feature on the 
# same plot. This will help to easily identify the features have a relationship
# with quality.rating. 
grid.arrange(
  # Plot the scatterplot for quality.rating and fixed.acidity
  # Overlaid with a line representing the median fixed.acidity
  ggplot(aes(x = quality.rating, 
             y = fixed.acidity, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(quantile(wine$fixed.acidity, 0.01), 
                           quantile(wine$fixed.acidity, 0.99))) +
  ggtitle("Quality Rating and Fixed Acidity Scatterplot"),
  
  # Plot the scatterplot for quality.rating and volatile.acidity
  # Overlaid with a line representing the median volatile.acidity
  ggplot(aes(x = quality.rating, 
             y = volatile.acidity, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(0.1, 0.5)) +
  ggtitle("Quality Rating and Volatile Acidity Scatterplot"),
  
  # Plot the scatterplot for quality.rating and citric.acid
  # Overlaid with a line representing the median citric.acid
  ggplot(aes(x = quality.rating, 
             y = citric.acid, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(0.1, 0.6)) +
  ggtitle("Quality Rating and Citric Acid Scatterplot"),
  
  # Plot the scatterplot for quality.rating and residual.sugar
  # Overlaid with a line representing the median residual.sugar
  ggplot(aes(x = quality.rating, 
             y = log10(residual.sugar), 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(quantile(log10(wine$residual.sugar), 0.01), 
                           quantile(log10(wine$residual.sugar), 0.99))) +
  ggtitle("Quality Rating and Residual Sugar Scatterplot"),
  
  # Plot the scatterplot for quality.rating and chlorides
  # Overlaid with a line representing the median chlorides
  ggplot(aes(x = quality.rating, 
             y = chlorides, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(0.02, 0.08)) +
  ggtitle("Quality Rating and Chlorides Scatterplot"),
  
  # Plot the scatterplot for quality.rating and free.sulfur.dioxide
  # Overlaid with a line representing the median free.sulfur.dioxide
  ggplot(aes(x = quality.rating, 
             y = free.sulfur.dioxide, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(0, 75)) +
  ggtitle("Quality Rating and Free Sulfur Dioxide Scatterplot"),
  
  # Plot the scatterplot for quality.rating and total.sulfur.dioxide
  # Overlaid with a line representing the median total.sulfur.dioxide
  ggplot(aes(x = quality.rating, 
             y = total.sulfur.dioxide, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(50, 250)) +
  ggtitle("Quality Rating and Total Sulfur Dioxide Scatterplot"),
  
  # Plot the scatterplot for quality.rating and density
  # Overlaid with a line representing the median density
  ggplot(aes(x = quality.rating, 
             y = density, group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(0.985, 1.005)) +
  ggtitle("Quality Rating and Density Scatterplot"),
  
  # Plot the scatterplot for quality.rating and pH
  # Overlaid with a line representing the median pH
  ggplot(aes(x = quality.rating, 
             y = pH, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(2.8, 3.6)) +
  ggtitle("Quality Rating and pH Scatterplot"),
  
  # Plot the scatterplot for quality.rating and sulphates
  # Overlaid with a line representing the median sulphates
  ggplot(aes(x = quality.rating, 
             y = log10(sulphates), 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  ggtitle("Qualit Rating and Sulphates Scatterplot"),
  
  # Plot the scatterplot for quality.rating and alcohol
  # Overlaid with a line plot reflecting the median alcohol
  ggplot(aes(x = quality.rating, 
             y = alcohol, 
             group = 1), 
         data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/4, 
             shape = 21, 
             size = 2, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 1.5) +
  coord_cartesian(ylim = c(8, 14)) +
  ggtitle("Quality Rating and Alcohol Scatterplot"),
  
  # Arrange the scatterplots in 2 columns
  ncol = 2
)
```

<br>Quality Rating is the main feature of interest, so I first wanted to get a 
look at the relationship it has with the other features in the dataset.

<u>Here are a few visual observations from the scatterplots:.</u>
<br>1) There appears to be no noticeable correlation to quality for Fixed 
Acidity, Citric Acid, Residual Sugar, Free Sulfur Dioxide, pH, and Sulphates.
<br>2) There is a negative correlation to Quality Rating for Volatile Acidity, 
Chlorides, Total Sulfur Dioxide, Density.
<br>3) There is a positive correlation between Quality Rating and Alcohol.

Next, I want to run the GG Pairs matrix plot to see how the correlation 
coefficient for the quality relationships compares to my observations from the 
scatterplots. Also, the matrix plot will give me a view of the relationships 
between the other variables. Note: In order to run the correlation test for 
quality.rating I had to change the quality rating from text to a numeric 
value. I created a new variable named "quality.rating_num" and assigned the 
rating values as such: 1 - Poor, 2 - Good, 3 - Great.

***

### Exploring All Relationships Using GG Pairs Matrix Plot

```{r echo=FALSE, fig.width = 10, fig.asp = 1.0, message = FALSE, GGPairs_Plot}
# Plot ggpairs matrix ---------------------------------------------------------

# quality.rating is not numerical so the cor.test will fail, so get around this
# create a new num variable named "quality.rating.num" to use for the cor.test
wine$quality.rating.num[wine$quality.rating == "Bad"] = 1
wine$quality.rating.num[wine$quality.rating == "Average"] = 2
wine$quality.rating.num[wine$quality.rating == "Good"] = 3

# use ggpairs function to print out the relationship plots / correlations for 
# all of the features in the wine dataset except for X and quality
ggpairs(wine, 
  lower = list(continuous = wrap("points", shape = I('.'))), 
  upper = list(combo = wrap("box", outlier.shape = I('.'))),
  columns = c(2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15),
  columnLabels = c("FA", "VA", "CA", "RS", "C", "FSD", "TSD", 
                   "D", "PH", "S", "A", "QR", "QRS"))
```

<br><b><u>Observations from the plot:</b></u>

<b>1) Based on the correlation coefficients produced, only two of the six 
features I identified as having a relationship to Quality Rating actually has 
a meaningful correlation to Quality Rating.</b>
<br>>> Alcohol (0.463)
<br>>> Density (-0.332)

<b>2) There are two other relationships with high correlation (> 0.7).</b>
<br>>> Residual Sugar and Density (0.839)
<br>>> Density and Alcohol (-0.780)

<b>3) There are two relationships with moderate correlation (> 0.5 < 0.7).</b>
<br>>> Free Sulfur Dioxide and Total Sulfur Dioxide (0.616)
<br>>> Total Sulfur Dioxide and Density (0.530)

<b>4) There are five relationships with low correlation (> 0.3 < 0.5).</b>
<br>>> Residual Sugar and Alcohol (-0.451)
<br>>> Total Sulfur Dioxide and Alcohol (-0.449)
<br>>> Fixed Acidity and pH (-0.426)
<br>>> Residual sugar and Total Sulfur Dioxide (0.401)
<br>>> Chlorides and Alcohol (-0.360)

<b>5) There were other variables that appeared to be correlated based on the 
scatterplot, but the correlation coefficients didn't back it up.</b>
<br>>> Citric Acid and Fixed Acidity (0.289)
<br>>> Citric Acid and Volatile Acidity (-0.149)
<br>>> Chlorides and Total Sulfur Dioxide (0.199)
<br>>> pH and Citric Acid (-0.164)
<br>>> Fixed Acidity and Density (0.265)

***

### Exploring the relationships between Quality Rating, Density, and Alcohol

***

#### Quality Rating and Alcohol

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, QR_and_A}
# Explore Quality Rating and Alcohol ------------------------------------------

# Print the median alcohol by quality.rating
print("Wine Alcohol median by Quality Rating:")
by(wine$alcohol, wine$quality.rating, median)

# Plot the boxplot for alcohol by quality.rating
ggplot(aes(x = quality.rating, 
           y = alcohol), 
       data = wine) +
  geom_boxplot(color = "black", 
               fill = "orchid") +
  coord_cartesian(ylim = c(9, 13)) +
  ggtitle("Alcohol Box Plot by Quality Rating")

# Plot the scatterplot for alcohol and quality.rating
# Overlaid with a line representing the median alcohol
ggplot(aes(x = quality.rating,
           y = alcohol, 
           group = 1), 
       data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/3, 
             shape = 21, 
             size = 3, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 2) +
  coord_cartesian(ylim = c(8, 14)) +
  ggtitle("Quality Rating and Alcohol Scatterplot")

# Plot the frequency polygon for alcohol by quality.rating
ggplot(aes(x = alcohol, 
           y = ..density../sum(..density..)), 
       data = wine) +
  geom_freqpoly(aes(color = quality.rating), 
                binwidth = 1) +
  ggtitle("Alcohol Frequency Poly by Quality Rating")
```

<u>Observations:</u>
<br>There is a positive correlation. Wine quality increases as the Alcohol 
content increases. This caught me by surprise. I didn't expect alcohol content 
to have a significant correlation with the wine quality whether it be positive 
or negative. If anything, I thought the wines with high alcohol content would 
be rated lower.

***

#### Quality Rating and Density

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, QR_and_D}
# Explore Quality Rating and Density ------------------------------------------

# Print the median density by quality.rating
print("Wine Density median by Quality Rating:")
by(wine$density, wine$quality.rating, median)

# Plot the boxplot for density by quality.rating
ggplot(aes(x = quality.rating, 
           y = density), 
       data = wine) +
  geom_boxplot(color = "black", 
               fill = "orchid") +
  coord_cartesian(ylim = c(0.99, 0.9975))+
  ggtitle("Density Box Plot by Quality Rating")

# Plot the scatterplot for density and quality.rating
# Overlaid with a line representing the median density
ggplot(aes(x = quality.rating, 
           y = density, 
           group = 1), 
       data = wine) +
  geom_point(fill = "blue", 
             alpha = 1/3, 
             shape = 21, 
             size = 3, 
             position = "jitter") +
  geom_line(stat = "summary", 
            fun.y = median, 
            color = "red", 
            size = 2) +
  coord_cartesian(ylim = c(0.985, 1.005)) +
  ggtitle("Quality Rating and Density Scatterplot")

# Plot the frequency polygon for density by quality.rating
ggplot(aes(x = density, 
           y = ..density../sum(..density..)), 
       data = wine) +
  geom_freqpoly(aes(color = quality.rating), 
                binwidth = 0.001) +
  ggtitle("Density Frequency Poly by Quality Rating")
```

<u>Observations:</u>
<br>There is a negative correlation. Wine quality increases as the density 
of the wine decreases. I expected to see a negative correlation, since the 
density of the wine depends on the alcohol and sugar content. The higher the 
alcohol content, the lower the density will be. Alcohol has a high positive 
correlation with wine quality, so I expected density to have a negative 
correlation.

***

#### Density and Alcohol

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, D_and_A}
# Explore Density and Alcohol -------------------------------------------------

# Plot the scatterplot for density and alcohol
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = density, 
           y = alcohol), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/3, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Density and Alcohol Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a negative correlation. Alcohol content decreases as the density 
increases. I expected to see this as there is a natural correlation between 
the two variables. Alcohol is less dense than water, so naturally as the 
alcohol content decreases, the density will increase.

***

### Exploring Density's Other Relationships

***

#### Residual Sugar and Density

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, RS_and_D}
# Explore Residual Sugar and Density ------------------------------------------

# Plot the scatterplot for residual.sugar and density
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = residual.sugar, 
           y = density), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/5, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Residual Sugar and Density Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a positive correlation. Wine density increases as the residual 
sugar level increases. I expected to see this relationship since there is a 
natural correlation between the two variables. Higher residual sugar means 
that there is less alcohol. Less alcohol means that the density is higher 
since alcohol is less dense than water. Therefore, you would expect the 
density to be greater as the residual sugar increases.

***

#### Total Sulfur Dioxide and Density

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, D_and_TSD}
# Explore Total Sulfur Dioxide and Density ------------------------------------

# Plot the scatterplot for total.sulfur.dioxide and density
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = total.sulfur.dioxide, 
           y = density), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/3, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99)), 
                  ylim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Total Sulfur Dioxide and Density Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a positive correlation. Wine density increases as the total 
sulfur dioxide level increases.

***

### Exploring Alcohol's Other Relationships

***

#### Alcohol and Chlorides

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, A_and_C}
# Explore Alcohol and Chlorides -----------------------------------------------

# Plot the scatterplot for alcohol and chlorides
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = chlorides, 
           y = alcohol), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/3, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$chlorides, 0.01), 
                           quantile(wine$chlorides, 0.95))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Chlorides and Alcohol Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a negative correlation. Wine alcohol content descreases as the 
amount of salt in the wine increases.

***

#### Alcohol and Total Sulfur Dioxide

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, A_and_TSD}
# Explore Alcohol and Total Sulfur Dioxide ------------------------------------

# Plot the scatterplot for alcohol and total.sulfur.dioxide
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = total.sulfur.dioxide, 
           y = alcohol), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/3, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Total Sulfur Dioxide and Alcohol Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a negative correlation. Wine alcohol content decreases as the 
total sulfur dioxide increases.

***

#### Alcohol and Residual Sugar

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, A_and_RS}
# Explore Alochol and Residual Sugar ------------------------------------------

# Plot the scatterplot for alcohol and residual.sugar
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = residual.sugar, 
           y = alcohol), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/5, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Residual Sugar and Alcohol Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a negative correlation. Wine alcohol content decreases as the 
residual sugar level increases. This is an expected result since there is a 
natural correlation between the two variables. Sugar is turned into alcohol 
during the fermentation process, so we would expect the alcohol content to 
decrease as the residual sugar level increases. Note: The majority of the 
wines have very little residual sugar.

***

### Exploring the Other Meaningful Relationships

***

#### Free Sulfur Dioxide and Total Sulfur Dioxide

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, FSD_and_TSD}
# Explore Free Sulfur Dioxide and Total Sulfur Dioxide ------------------------

# Plot the scatterplot for free.sulfur.dioxide and total.sulfur.dioxide
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = free.sulfur.dioxide, 
           y = total.sulfur.dioxide), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/3, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$free.sulfur.dioxide, 0.01), 
                           quantile(wine$free.sulfur.dioxide, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Free Sulfur Dioxide and Total Sulfur Dioxide Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a positive correlation. Total sulfur dioxide increases as the 
free sulfur dioxide increases. This is a natural correlation, since if the 
free Sulfur Dioxide increases that would increase the total Sulfur Dioxide 
level.

***

#### Residual sugar and Total Sulfur Dioxide

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, RS_and_TSD}
# Explore Residual Sugar and Total Sulfur Dioxide -----------------------------

# Plot the scatterplot for residual.sugar and total.sulfur.dioxide
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = residual.sugar, 
           y = total.sulfur.dioxide), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/3, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Residual Sugar and Total Sulfur Dioxide Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a positive correlation. Total sulfur dioxide increases as the 
residual sugar level increases. The majority of the wines have very low 
residual sugar counts and the total Sulfur Dioxide for these wines varies 
greatly.

***

##### Fixed Acidity and pH

```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, FA_and_PH}
# Explore Fixed Acidity and pH ------------------------------------------------

# Plot the scatterplot for fixed.acidity and pH
# Overlaid with a line representing the best fit for the data
ggplot(aes(x = fixed.acidity, 
           y = pH), 
       data = wine) +
  geom_point(fill = "blue", 
             shape = 21, 
             alpha = 1/5, 
             size = 3, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$fixed.acidity, 0.01), 
                           quantile(wine$fixed.acidity, 0.99)), 
                  ylim = c(quantile(wine$pH, 0.01), 
                           quantile(wine$pH, 0.99))) +
  geom_smooth(size = 2, 
              color = "red") +
  ggtitle("Fixed Acidity and pH Scatterplot")
```

<u>Operations:</u>
<br>I limited the x-axis and y-axis to get a better view of the data.

<u>Observations:</u>
<br>There is a negative correlation. pH level decreases as the fixed acidity 
increases. This is probably a natural correlation we're seeing as low pH 
values mean there is high acidity and high pH values mean low acidity. 
Therefore, as fixed acidity increases you would expect the pH value to 
decrease.

***

## Bivariate Analysis

### Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?

Quality Rating isn't strongly correlated to any of the other features in the 
dataset. Only Alcohol and Density share a meaningful relationship with Quality 
Rating. 

Alcohol has a positive correlation (0.463) with Quality Rating, meaning the 
wine quality increases as the Alcohol content increases. I would have expected 
to see Residual Sugar have a stronger negative correlation (-0.126) to Quality 
Rating since Residual Sugar shares a natural correlated to Alcohol. 

Density has a negative correlation (-0.332) with Quality Rating, meaning wine 
quality increases as the density of the wine decreases. I expected to see a 
negative correlation, since the density of the wine depends on the alcohol and 
sugar content. The higher the alcohol content, the lower the density will be.


### Did you observe any interesting relationships between the other features (not the main feature(s) of interest)?

Density, Residual Sugar, and Alcohol have an interesting relationship. Sugar 
is turned into alcohol during the fermentation process and alcohol is less 
dense than water. So, I would expect to see residual sugar and density 
decrease as the alcohol content increases. I would also expect to see the 
density increase as the residual sugar increases. 

I also found it interesting to see that Total Sulfur Dioxide was correlated to 
Density, Residual Sugar and Alcohol. I wanted to figure out what was driving 
the relationships. Per Calwineries website - "If a winemaker uses too much SO2 
(Total Sulfur Dioxide), it can kill the "good" yeast, haulting fermentation 
before the desired end point." My takeaway: if there is too much Total Sulfur 
Dioxide, the fermentation may stop early which means there will be more 
residual sugar, less alcohol and thus higher density. 

These relationships are reflected in the correlation coefficients: 
<br>>> Alcohol and Residual Sugar (-0.451)
<br>>> Alcohol and Density (-0.780)
<br>>> Residual Sugar and Density (0.839)
<br>>> Total Sulfur Dioxide and Residual sugar (0.401) 
<br>>> Total Sulfur Dioxide and Alcohol (-0.449)
<br>>> Total Sulfur Dioxide and Density (0.530)


### What was the strongest relationship you found?

Residual Sugar and Density was the strongest relationship I found. The 
correlation score was 0.8389665. There is a positive correlation between the 
two. As residual sugar increase, the density increases. This is a natural 
correlation since the higher the residual sugar, the less alcohol there will 
be. The less alcohol there is, the higher the density since alcohol is less 
dense than water.

***

## Multivariate Plots Section

### Adding Quality Rating to the Plots

***

#### Alcohol, Residual Sugar, Density, and Total Sulfur Dioxide

```{r echo=FALSE, fig.width=10, fig.asp=2, message=FALSE, warning=FALSE, A_RS_D_TSD}
# Add Quality Rating to Scatterplots ------------------------------------------

# Use grid.arrange to plot all of the scatterplots on the same plot
grid.arrange(
  # Plot the scatterplot for density and alcohol
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = density, 
             y = alcohol, 
             color = quality.rating), 
            data = wine) +
  geom_point(alpha = 1/2, 
             size = 2) +
  xlim(quantile(wine$density, 0.01), 
       quantile(wine$density, 0.99)) +
  ylim(quantile(wine$alcohol, 0.01), 
       quantile(wine$alcohol, 0.99)) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Alcohol and Density by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for density and alcohol
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = density, 
             y = alcohol, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/2, 
             size = 2) +
  xlim(quantile(wine$density, 0.01), 
       quantile(wine$density, 0.99)) +
  ylim(quantile(wine$alcohol, 0.01), 
       quantile(wine$alcohol, 0.99)) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Alcohol and Density by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for density and residual.sugar
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = density, 
             y = residual.sugar, 
             color = quality.rating), 
         data = wine) +
  geom_point(alpha = 1, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99)), 
                  ylim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Residual Sugar and Density by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for density and residual.sugar
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = density, 
             y = residual.sugar, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99)), 
                  ylim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Residual Sugar and Density by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for density and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = density, 
             y = total.sulfur.dioxide, 
             color = quality.rating), 
         data = wine) +
  geom_point(alpha = 1/2, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Total Sulfur Dioxide and Density by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for density and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = density, 
             y = total.sulfur.dioxide, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/2, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$density, 0.01), 
                           quantile(wine$density, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Total Sulfur Dioxide and Density by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for residual.sugar and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = residual.sugar, 
             y = total.sulfur.dioxide, 
             color = quality.rating), 
         data = wine) +
  geom_point(alpha = 1/3, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Total Sulfur Dioxide and Residual Sugar by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for residual.sugar and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = residual.sugar, 
             y = total.sulfur.dioxide, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/3, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Total Sulfur Dioxide and Residual Sugar by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for alcohol and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = alcohol, 
             y = total.sulfur.dioxide, 
             color = quality.rating), 
         data = wine) +
  geom_point(alpha = 1/3, 
             size = 2, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Total Sulfur Dioxide and Alcohol by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for alcohol and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = alcohol, 
             y = total.sulfur.dioxide, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/3, 
             size = 2, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Total Sulfur Dioxide and Alcohol by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for residual.sugar and alcohol
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = residual.sugar, 
             y = alcohol, 
             color = quality.rating), 
         data = wine) +
  geom_point(alpha = 1/3, size = 2) +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Residual Sugar and Alcohol by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for residual.sugar and alcohol
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = residual.sugar, 
             y = alcohol, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/3, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$residual.sugar, 0.01), 
                           quantile(wine$residual.sugar, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1) +
  ggtitle("Residual Sugar and Alcohol by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Arrange the scatterplots in two columns
  ncol = 2
)
```

<br><u><b>Observations:</b></u>
<br>Better quality wines tend to have higher alcohol content than lesser 
quality wines, but lower density, residual sugar, and total sulfur dioxide.

***

#### Free Sulfur Dioxide and Total Sulfur Dioxide by Quality Rating

```{r echo=FALSE, fig.width = 10, fig.asp = 0.33, message = FALSE, FSD_TSD}
# Explore Quality Rating's Relationship to Free SD and Total SD ---------------

# Plot the two scatterplots for free.sulfur.dioxide and total.sulfur.dioxide on
# the same plot using grid.arrange so it's easy to view.
grid.arrange(
  # Plot the scatterplot for free.sulfur.dioxide and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = free.sulfur.dioxide, 
                y = total.sulfur.dioxide, 
                color = quality.rating), 
            data = wine) +
  geom_point(alpha = 1/2, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$free.sulfur.dioxide, 0.01), 
                           quantile(wine$free.sulfur.dioxide, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1.5) +
  ggtitle("Free Sulfur Dioxide and Total Sulfur Dioxide by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for free.sulfur.dioxide and total.sulfur.dioxide
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = free.sulfur.dioxide, 
                 y = total.sulfur.dioxide, 
                 color = quality.rating), 
             data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/2, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$free.sulfur.dioxide, 0.01), 
                           quantile(wine$free.sulfur.dioxide, 0.99)), 
                  ylim = c(quantile(wine$total.sulfur.dioxide, 0.01), 
                           quantile(wine$total.sulfur.dioxide, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1.5) +
  ggtitle("Free Sulfur Dioxide and Total Sulfur Dioxide by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Arrange scatterplots in 2 columns
  ncol = 2
)
```

<br><u>Observations:</u>
<br>Better quality wines tend to have less total sulfur dioxide. There doesn't 
appear to be much of a relationship between quality rating and the amount of 
free sulfur dioxide in the wine.

***

#### Chlorides and Alcohol by Quality Rating

```{r echo=FALSE, fig.width = 10, fig.asp = 0.33, message = FALSE, C_A_by_QR}
# Explore Quality Rating's Relationship to Chlorides and ALcohol --------------

# Plot the two scatterplots for chlorides and alcohol on the same plot using 
# grid.arrange so it's easy to view.
grid.arrange(
  # Plot the scatterplot for chlorides and alcohol
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = chlorides, 
                y = alcohol, 
                color = quality.rating), 
            data = wine) +
  geom_point(alpha = 1/2, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$chlorides, 0.01), 
                           quantile(wine$chlorides, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01),
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1.5) +
  ggtitle("Chlorides and Alcohol by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for chlorides and alcohol
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = chlorides, 
                 y = alcohol, 
                 color = quality.rating), 
             data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/2, 
             size = 2) +
  coord_cartesian(xlim = c(quantile(wine$chlorides, 0.01), 
                           quantile(wine$chlorides, 0.99)), 
                  ylim = c(quantile(wine$alcohol, 0.01), 
                           quantile(wine$alcohol, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1.5) +
  ggtitle("Chlorides and Alcohol by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Arrange the scatterplots in 2 columns
  ncol = 2
)


```

<br><u>Observations:</u>
<br>Better quality wines tend to have higher alcohol and less salt. Alcohol 
appears to be a bigger factor. This is noticeable in the plot by how the dots 
color transitions from mostly blue, to green, to red as you move from top of 
the plot to the bottom.

***

#### Fixed Acidity and pH by Quality Rating

```{r echo=FALSE, fig.width = 10, fig.asp = 0.33, message = FALSE, FA_PH_by_QR}
# Explore Quality Rating's Relationship to Fixed Acidity and pH ---------------

# Plot the two scatterplots for fixed.acidity and pH on the same plot using 
# grid.arrange so it's easy to view.
grid.arrange(
  # Plot the scatterplot for fixed.acidity and pH
  # Overlaid with a line representing the best fit for each quality.rating
  ggplot(aes(x = fixed.acidity, 
             y = pH, 
             color = quality.rating), 
         data = wine) +
  geom_point(alpha = 1/2, 
             size = 2, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$fixed.acidity, 0.01), 
                           quantile(wine$fixed.acidity, 0.99)), 
                  ylim = c(quantile(wine$pH, 0.01), 
                           quantile(wine$pH, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1.5) +
  ggtitle("Fixed Acidity and pH by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Plot the scatterplot for fixed.acidity and pH
  # Overlaid with a line representing the best fit for each quality.rating
  # Used a subset of wine to remove the wines with quality.rating of "Average"
  ggplot(aes(x = fixed.acidity,
             y = pH, 
             color = quality.rating), 
         data = subset(wine, quality.rating != "Average")) +
  geom_point(alpha = 1/2, 
             size = 2, 
             position = "jitter") +
  coord_cartesian(xlim = c(quantile(wine$fixed.acidity, 0.01), 
                           quantile(wine$fixed.acidity, 0.99)), 
                  ylim = c(quantile(wine$pH, 0.01), 
                           quantile(wine$pH, 0.99))) +
  geom_smooth(method = "lm", 
              se = FALSE, 
              size = 1.5) +
  ggtitle("Fixed Acidity and pH by Quality Rating") +
  theme(legend.position = "bottom"),
  
  # Arrange the scatterplots in 2 columns
  ncol = 2
)
```

<br><u>Observations:</u>
<br>There's no apparent relationship between quality rating and Fixed Acidity 
and PH.

***

## Multivariate Analysis

### Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?

<u>Better quality wines</u> tend to have higher alcohol content, lower 
density, lower residual sugar, lower total sulfur dioxide, and lower salt. 
<u>Lower quality wines</u> tend to have lower alcohol content, higher density, 
higher residual sugar, higher total sulfur dioxide, and higher salt.

Alcohol and Density have a strong relationship and they both share a 
meaningful relationship with the wine quality rating. This is very apparent 
in the Alcohol and Density by Quality Rating scatterplots. There is clearly a 
negative linear relationship between alchol and density. When you overlay the 
quality rating you can see a clear transition in color from mostly blue in the 
top-left to mostly red in the bottom-right. This tells us that higher quality 
wines tend to have a higher alcohol content and lower denisty than lower 
quality wines.

***

### Were there any interesting or surprising interactions between features?

Surprisingly, there doesn't seem to be much of a relationship between the wine 
quality and the amount of acid in the wine. Before I started my analysis I 
thought the acid in the wine would be the main factor to wine quality but, as 
you can see in the scatterplot for FIxed Acidity and pH, there's not any 
apparent relationship to quality rating.

I also found it interesting to see the strong relationship to quality rating 
represented in the Alcohol and Chlorides scatterplot. You can see from the 
plot that it is rare to find a great wine with a chlorides higher than 
0.05 g / dm^3.

***

### OPTIONAL: Did you create any models with your dataset? Discuss the strengths and limitations of your model.

No

***

## Final Plots and Summary

### Plot One - Alcohol Histogram by Quality Rating
```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, Plot_One}
# Plot the histogram to get a visual of the data distribution
# Use facet_wrap to view the distribution by quality.rating
ggplot(aes(x = alcohol), 
       data = wine) +
geom_histogram(binwidth = 0.1, 
               color = "black", 
               fill = "aquamarine") +
scale_x_continuous(breaks = seq(8, 14, 1)) +
facet_wrap(~ quality.rating) +
xlab("Alcohol (% by volume)") +
ggtitle("Alcohol Histogram by Quality Rating")
```

***

### Description One

I used a histogram to see if the unique distributions for Alcohol had any 
relation to the quality of the wine. By doing so I was able to identify early 
on that Alcohol is correlated to the quality of the wine. It's easy to see 
that the higher quality wines tend to have a higher alcohol content.

***

### Plot Two - Impact of Alcohol and Density on Quality
```{r echo=FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, warning = FALSE, Plot_Two}
# Plot the scatterplot for density and alcohol
# Overlaid with a line representing the best fit for each quality.rating
# Used a subset of wine to remove the wines with quality.rating of "Average"
ggplot(aes(x = density, 
           y = alcohol, 
           color = quality.rating), 
       data = subset(wine, quality.rating != "Average")) +
geom_point(alpha = 1/2, 
           size = 2) +
xlim(quantile(wine$density, 0.01), 
     quantile(wine$density, 0.99)) +
ylim(quantile(wine$alcohol, 0.01), 
     quantile(wine$alcohol, 0.99)) +
geom_smooth(method = "lm", 
            se = FALSE, 
            size = 1) +
xlab("Density (g / cm^3)") +
ylab("Alcohol (% by volume)") +
ggtitle("Alcohol and Density by Quality Rating") +
theme(legend.position = "bottom")
```

***

### Description Two

Alcohol and Density have a strong relationship and they both share a 
meaningful relationship with the wine quality rating. This is very apparent 
in the Alcohol and Density by Quality Rating scatterplot. There is clearly a 
negative linear relationship between alchol and density. When you overlay the 
quality rating you can see a clear transition in color from mostly blue in the 
top-left to mostly red in the bottom-right. This tells us that higher quality 
wines tend to have a higher alcohol content and lower denisty than lower 
quality wines. I also chose to remove the "Good" rated wines from the plot to 
more clearly show the difference between the "Great" and "Poor" wines.

***

### Plot Three - Impact of Acid on Quality
```{r echo = FALSE, fig.width = 10, fig.asp = 0.5, message = FALSE, warning = FALSE, Plot_Three}
# Plot the scatterplot for fixed.acidity and pH
# Overlaid with a line representing the best fit for each quality.rating
# Used a subset of wine to remove the wines with quality.rating of "Average"
ggplot(aes(x = fixed.acidity,
           y = pH, 
           color = quality.rating), 
       data = subset(wine, quality.rating != "Average")) +
geom_point(alpha = 1/2, 
           size = 2, 
           position = "jitter") +
coord_cartesian(xlim = c(quantile(wine$fixed.acidity, 0.01), 
                         quantile(wine$fixed.acidity, 0.99)), 
                ylim = c(quantile(wine$pH, 0.01), 
                         quantile(wine$pH, 0.99))) +
geom_smooth(method = "lm", 
            se = FALSE, 
            size = 1.5) +
xlab("Fixed Acidity (tartaric acid - g / dm^3)") +
ylab("pH") +
ggtitle("Fixed Acidity and pH by Quality Rating") +
theme(legend.position = "bottom")
```

***

### Description Three

This plot shows the relationship between pH, fixed.aciidy, and quality rating. 
I thought this plot was surprising because it shows that there is no apparent 
relationship between quality rating and the level of acidity. Going into this 
exercise, I thought that the acidity would be the main factor.

***

## Reflection

### Where did I run into difficulties in the analysis?

When I started the project I thought that acid would be the main factor 
in determining the wine quality rating. However, I was unable to find a 
meaningful relationship between acidity and wine quality during my analysis. I
tried adding, subtracting, dividing, the acid features together, but nothing I 
tried produced significant results. Three of the things I tried were: 
<br>1) New variable equal to the sum of fixed.acidity, volatile.acidity, and 
citric.acid.
<br>2) New variable equal to the quotient of volatile.acidity divided by 
fixed.acidity. 
<br>3) New variable equal to fixed.acidity minus volatile.acidity.

Another issue I encountered, was trying to run the correlation test with the 
quality.rating variable. The quality.rating variable was an ordered factor 
variable, so I had to create a new numerical variable to be able to calculate 
the correlation coeffients.


### Where did I find successes?

I was successful early on in identifying the key features that would have an 
impact on the quality of the wine. I identified the relationship alcohol and 
denisty shared with quality by investigating their Histogram data distribution 
using facet wrap on quality.rating.

I also thought the scatterplots that included quality.rating and the other 
features were very helpful in identifying the negative/positive relationships 
or lack thereof each feature shared with wine quality.

For the multivariate scatterplots, I found it to be very helpful to remove the 
dots for the "Average" rated wines, leaving just the "Bad" and "Good" wines. 
By removing the "Average" rated wines, the plot became less crowded and made 
it much easier to see the relationship quality rating shared with the other 
two variables.


### How could the analysis be enriched in future work?

A couple ways to enrich the analysis in the future are:
<br>1) Add the red wines dataset into the mix also. You could perform similar 
analysis for the red wines. Then compare the difference in the way the 
features impact the white wines vs. the red wines. I've always enjoyed the 
taste of red wine much more than red wine, so I would be interested in seeing 
the results.
<br>2) You could build a predictive model to predict the quality rating of the 
wine based on input values for the features.
